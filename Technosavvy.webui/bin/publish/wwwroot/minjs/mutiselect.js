function checkboxDropdown(t) { function e(t, e) { e.length || t.html("Select") } $(t).each((function (t, n) { $(this).find(".dropdown-list"); var c = $(this).find(".dropdown-label"), h = $(this).find(".check-all"), i = $(this).find(".check"), o = $(this).find("input[type=checkbox]:checked"), s = []; e(c, s), o.length && o.each((function () { s.push($(this).next().text()), c.html(s.join(", ")) })), c.on("click", (() => { $(this).toggleClass("open") })), h.on("change", (function () { var t = $(this).is(":checked"), n = $(this).next().text(); s = [], t ? (s.push(n), c.html(s), i.prop("checked", !1)) : c.html(s), e(c, s) })), i.on("change", (function () { var t = $(this).is(":checked"), n = $(this).next().text(); if (h.is(":checked") && (s = []), t) s.push(n), c.html(s.join(", ")), h.prop("checked", !1); else { let t = s.indexOf(n); t >= 0 && s.splice(t, 1), c.html(s.join(", ")) } e(c, s) })), $(document).on("click touchstart", (t => { $(t.target).closest($(this)).length || $(this).removeClass("open") })) })) } checkboxDropdown(".dropdown");