var walletDataArr = [], Markets = []; function buildMarkets(a) { console.log("buildMarkets", a), a.length <= 0 || (a.forEach((function (a) { Markets.push({ name: a.name, code: a.mCode, base: a.base, quote: a.quote, high: a.highest24H, low: a.lowest24H, cat: a.category, price: a.value, volume: a.volume, change: a.change, cashback: a.cashBackYTD, cashback24h: a.cashBack24h, poly: a.poly24Hr, marketcap: a.marketCap, highlight: a.highlightTill, newList: a.newListingTill }) })), console.log("Markets", Markets)) } function walletDataArray(a) { console.log("buildMarketsFee", a), a.length <= 0 || (a.forEach((function (a) { walletDataArr.push({ Code: a.Code, ShortName: a.ShortName, cType: a.cType, Amt: a.Amt, BaseVal: a.BaseVal, IsFiat: a.IsFiat, tokenPrecision: a.tokenPrecision }) })), combindTokenMyAssets()) } function combindTokenMyAssets() { var a = "", e = Markets, t = allCur, s = walletDataArr; $("#myassetdata1 table tbody").html(""), s.forEach((function (s) { console.log("myAssets", s, t); let o = e.filter((a => a.base.toUpperCase() == s.Code.toUpperCase())); if (0 != t.length) { let a = t.filter((a => a.abbr.toUpperCase() == s.Code.toUpperCase())); if (a.length > 0) var l = a[0].country, r = a[0].value } else l = "-", r = 0; if (console.log("filterMyToken", o), o.length > 0) if (o[0].price) var i = o[0].price * s.Amt; else i = 0 * s.Amt; else i = s.Amt; if (console.log("Desk BalAmt", i, s.Code), "USDT" == s.Code) i = 1 * s.Amt; var n = s.Amt / r; if (a += "<tr>", a += '<td><div class="coinchangecss46"><a href="/token/?tname=' + s.Code.toLowerCase() + '"><div class="coin-name-css46 "><span>', s.IsFiat ? a += '<img src="../images/coun-flags/' + l.toLowerCase() + '.png" width="25" height="25" class="rounded-circle">' : a += '<img src="../images/coin/coin/' + s.Code.toUpperCase() + '.png">', a += "</span ><span>" + s.Code + " </span><small> " + s.ShortName + "</small></div ></a ></div ></td > ", a += '<td><div class="coin-24change-css46  "><div class="css5waltab44"><span> ' + GetFormatedValWithSep(s.Amt, _fsl) + " </span> <span> ", s.IsFiat ? a += '<small class="dyCur isfiat" data-oval="' + n + '"> ' + GetFormatedCurrency(n) + "</small>" : a += '<small class="dyCur" data-oval="' + i + '"> ' + GetFormatedCurrency(i) + "</small>", a += "</span ></div ></div ></td > ", a += '<td><span class="graph-css444 coin-24change-css46">', a += '<svg viewBox="0 0 500 100" class="chart">', a += '<polyline fill="none" stroke="#d5960f" stroke-width="10" points="', o.length > 0) for (let e = 0; e < o[0].poly.length; e++)a += 20 * e + "," + o[0].poly[e] + " "; else a += "00, 10  20, 10  40, 10  60, 10  80, 10  100, 10  120, 10   140, 10  160, 10  180, 10  200, 10    220, 10   240, 10            260, 10     280, 10    300, 10    320, 10    340, 10    360, 10     380, 10     400, 10   420, 10    440, 10"; a += '"></polyline>', a += "</svg>", a += "</span>", a += "</td>", a += '<td class="linkoverflow">', a += '<div class="tablediv432"><div class="spot-trade-css44">', a += '<span> <a href="/buy" ><span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Buy cryptocurrency effortlessly and conveniently with Fiat." data-bs-original-title="" title="" aria-describedby="popover531066">Buy</span></a></span>', a += '<span> <a href="/trade" ><span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Buy cryptocurrency effortlessly and conveniently with Fiat." data-bs-original-title="" title="" aria-describedby="popover531066">Trade</span></a></span>', a += '<span> <a href="/stake" ><span class="d-inline-block disable2" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Buy cryptocurrency effortlessly and conveniently with Fiat." data-bs-original-title="" title="" aria-describedby="popover531066">Stake</span></a></span>', a += '<span> <a href="/Deposit" ><span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Conveniently deposit crypto from another account to your TechnoApp account." data-bs-original-title="" title="" aria-describedby="popover531066">Deposit</span></a></span>', a += '<span> <a href="/withdraw" ><span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Withdraw your crypto from your TechnoApp account to another account." data-bs-original-title="" title="" aria-describedby="popover531066">Withdraw</span></a></span>', a += '<span> <a href="/wallet" asp-action="inter-wallet-transfer"><span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Transfers crypto Internal wallet. Internal transfers are free on TechnoApp." data-bs-original-title="" title="" aria-describedby="popover531066">Transfer</span></a></span>', a += '<span> <a href="/convert" ><span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Convert your crypto into your desired asset, from as low as 10 USD to multi-million USD." data-bs-original-title="" title="" aria-describedby="popover531066">Convert</span></a></span>', a += '<span> <a href="/convert" asp-action="convertwithdraw"><span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="Convert & withdraw your crypto into your desired asset, from as low as 10 USD to multi-million USD." data-bs-original-title="" title="" aria-describedby="popover531066">Convert & Widthdraw</span></a></span>', a += "</div>", a += '<span class="smalldevice332">', a += '<div id="market-more" class="market-more-css45">', a += '<div class="dropdowndiv togglenone">', a += '<a type="button" class="btn btn-more-css44 dropdown-toggle" data-bs-toggle="dropdown"> <i class="fa fa-ellipsis-v" aria-hidden="true"></i></a>', a += '<ul class="dropdown-menu   dropdown-content">', a += '<li><a class="dropdown-item" href="/buy" >Buy  </a></li>', a += '<li><a class="dropdown-item" href="/trade" >Trade</a></li>', a += '<li><a class="dropdown-item" href="/stake" > Stake</a></li>', a += '<li><a class="dropdown-item" href="/Deposit" > Deposit</a></li>', a += '<li><a class="dropdown-item" href="/withdraw" >Withdraw  </a></li>', a += '<li><a class="dropdown-item" href="/wallet/inter-wallet-transfer" >Transfer</a></li>', a += '<li><a class="dropdown-item" href="/convert" > Convert</a></li>', a += '<li><a class="dropdown-item" href="/convert/convertwithdraw" asp-action="convertwithdraw"> Convert &amp; Withdraw</a></li>', a += "</ul>", a += "</div>", a += "</div>", a += "</span>", a += "</div>", a += "</td>", a += "</tr>" })), $("#myassetdata1 table tbody").append(a), $("#pageParent").simplePagination({ items_per_page: 10 });[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function (a) { return new bootstrap.Popover(a) })); ApplySearch() } function ApplySearch() { $("table tfoot").hide(), $(".market-search").each((function () { var a = $(this).attr("data-tab"); $(this).on("keyup", (function () { var e = $(this).val().replace(/\s/g, "").toLowerCase(), t = "#" + a + " tr", s = $("#" + a), o = $(t).filter((function () { return $(this).text().toLowerCase().indexOf(e) > -1 })); o.length > 0 ? ($(s).nextAll("tfoot").hide(), $(".my-navigation").show()) : ($(s).nextAll("tfoot").show(), $(".my-navigation").hide(), $(s).parent().parent().children(".trasaction-table").hide()), $(t).hide(), o.show() })), $(".market-search").on("search", (function () { $(".market-search").val(""), $(".market-search").trigger("keyup") })) })) } function wdataAssetsNotFound() { var a = walletDataArr; $("#myassetdata1 table tfoot").hide(), console.log("myAssets No record", a.length), 0 == a.length ? setInterval((function () { $("#myAssetTabal-01").hide(), $("#myassetdata1 table tfoot").show(), $("#pageParent .my-navigation").hide() }), 5e3) : combindTokenMyAssets() } function uniqDataList(a, e) { return [...new Map(a.map((a => [e(a), a]))).values()] } function CashbackAssets() { console.log("cashback", Markets); var a = uniqDataList(Markets, (a => a.name)), e = ""; $("#cashbackAssets, #cashbackAssets2").html(""), console.log("cbData", a), a.forEach((function (a) { if ("TechnoSavvy" == a.base) { var t = 0 * (a.price - a.price / (1 + a.change)), s = 0 * a.price; e += '<div class="nav22cash"><div class="textcasb">Total Cashback Earned</div>', e += '<div class="css33-token csswallet77"><span><img src="images/nav-icon.png"> </span>', e += '<span class="css33-icon-name"> ' + s + " " + a.base + ' <br> <small  class="dyCur"  data-oval="' + s + '"> ' + s + " </small></span>", e += "</div>", e += "</div>", e += '<div class="nav22cash">', e += '<div class="css77-valuecheck css77-casgh mt-0">', e += '<span class="css77ethno"><span>24h Change</span> ', 0 <= a.change ? (e += '<div class="d-flex"><small class="me-2 green dyCur" data-oval="' + t + '">' + GetFormatedCurrency(t) + " </small>", e += '<span class="css44-up">(<i class="fa fa-long-arrow-up" aria-hidden="true"></i><small class="pl-1">' + GetPercentFormat(a.change, 2) + "</small>)</span>") : (e += '<div class="d-flex"><small class="me-2 red dyCur" data-oval="' + t + '">' + GetFormatedCurrency(t) + " </small>", e += '<span class="css44-down">(<i class="fa fa-long-arrow-down" aria-hidden="true"></i><small class="pl-1">' + GetPercentFormat(a.change, 2) + "</small>)</span>"), e += "</div></span>", e += "</div>", e += "</div>" } })), $("#cashbackAssets, #cashbackAssets2").html(e) } $.get(window.location.origin + "/Wallet/GetWalletAssets", (a => { var e = JSON.parse(a); walletDataArray(e), wdataAssetsNotFound(), combindTokenMyAssets(), combindTokenMyAssetsMobile(e) })), $.get(MktAPI + "GetMarketSummary", (a => { buildMarkets(a), CashbackAssets(a) })); var MyRewards = []; function WallerRewards(a) { var e = ""; $("#walletReward table tbody, #walletReward2 table tbody").html(""), $("#myrefrelNorecodes, #myrefrelNorecodes2").hide(), $(".refLink").hide(), a.forEach((function (a) { e += "<tr>", e += '<td nowrap class="text-left td-sticky-left"> 12/01/2023</td>', e += "<td> 12/02/2022  </td>", e += "<td>Signup </td>", e += "<td nowrap>", e += '<div class="datettrade44">', e += '<div class="dflex22"><span>-</span> <small> TechnoSavvy</small> </div>', e += '<div class="dflex22"><span> 1200</span> <small>USDT </small></div>', e += "</div>", e += "</td>", e += "<td> Pending  </td>", e += "</tr>" })), "" == a ? ($("#myrefrelNorecodes, #myrefrelNorecodes2").show(), $(".refLink").hide()) : ($("#walletReward table tbody, #walletReward2 table tbody").html(e), $("#myrefrelNorecodes #myrefrelNorecodes2").hide(), $(".refLink").show()) } function combindTokenMyAssetsMobile() { var a = "", e = walletDataArr, t = Markets, s = allCur; console.log("getToken", t), $("#myMktTaball-m-566").html(""), e.forEach((function (e) { let o = t.filter((a => a.base.toUpperCase() == e.Code.toUpperCase())); if (0 != s.length) { let a = s.filter((a => a.abbr.toUpperCase() == e.Code.toUpperCase())); if (a.length > 0) var l = a[0].country, r = a[0].value } else r = 0; if (console.log("filterMyToken", o), o.length > 0) if (o[0].price) var i = o[0].price * e.Amt; else i = 0 * e.Amt; else i = e.Amt; if (console.log("Desk BalAmt", i, e.Code), "USDT" == e.Code) i = 1 * e.Amt; var n = e.Amt / r; a += '<div class="wallet__assets--items" data-filter-item data-filter-name="' + e.Code.toLowerCase() + '">', a += '<div class="wallet__assets--item-top">', a += '<div class="wallet__assets--item-top-name">', e.IsFiat ? a += '<span class="image"><img src="../images/coun-flags/' + l.toLowerCase() + '.png" width="20" height="20" class="rounded-circle"></span>' : a += '<span class="image"><img src="../images/coin/coin/' + e.Code.toUpperCase() + '.png" width="20" height="20"></span>', a += '<span class="assets__name">' + e.Code + " <small>" + e.Code + " </small></span></div>", a += '<div class="wallet__assets--item-top-amount"><span class="sotAmt">' + GetFormatedValWithSep(e.Amt, _fsl) + '</span> <span class="amountToggle" ><i class="fa fa-angle-down" aria-hidden="true"></i></span></div>', a += '<div class="wallet__assets--item-top-action">', a += '<div class="dropdown walletDropdown dropstart">', a += '<a class="btn btn-sm btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">', a += '<i class="fa fa-ellipsis-v" aria-hidden="true"></i>', a += "</a>", a += '<ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">', a += '<li><a class="dropdown-item" href="/buy" >Buy  </a></li>', a += '<li><a class="dropdown-item" href="/trade" >Trade</a></li>', a += '<li><a class="dropdown-item" href="/stake" > Stake</a></li>', a += '<li><a class="dropdown-item" href="/Deposit" > Deposit</a></li>', a += '<li><a class="dropdown-item" href="/withdraw" >Withdraw  </a></li>', a += '<li><a class="dropdown-item" href="/wallet" asp-action="inter-wallet-transfer">Transfer</a></li>', a += '<li><a class="dropdown-item" href="/convert" > Convert</a></li>', a += '<li><a class="dropdown-item" href="/convert" asp-action="convertwithdraw"> Convert &amp; Withdraw</a></li>', a += "</ul>", a += "</div>", a += "</div>", a += "</div>", a += '<div class="wallet__assets--item-bottom">', a += '<div class="wallet__assets--item--bottom-item">', a += '<span class="wallet__assets--item--bottom-text">Total Balance</span>', a += '<span class="wallet__assets--item--bottom-data">' + GetFormatedValWithSep(e.Amt, _fsl) + "</span>", a += "</div>", a += '<div class="wallet__assets--item--bottom-item">', a += '<span class="wallet__assets--item--bottom-text">Available Balance</span>', e.IsFiat ? a += '<span class="wallet__assets--item--bottom-data dyCur" data-oval="' + n + '">' + GetFormatedCurrency(n) + "</span>" : a += '<span class="wallet__assets--item--bottom-data dyCur" data-oval="' + i + '">' + GetFormatedCurrency(i) + "</span>", a += "</div>", a += "</div>", a += "</div>" })), $("#myMktTaball-m-566").append(a), $("#mobileMyAssets").simplePagination({ pagination_container: "#myMktTaball-m-566", items_per_page: 10 }), $(".amountToggle").on("click", (function () { $(this).closest(".wallet__assets--items").children(".wallet__assets--item-bottom").slideToggle() }));[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function (a) { return new bootstrap.Popover(a) })), [].slice.call(document.querySelectorAll(".dropdown-toggle")).map((function (a) { return new bootstrap.Dropdown(a) })); divSearch() } function divSearch() { $("#myAssetNoRecodes4").hide(), $("[data-search]").on("keyup", (function () { var a = $(this).val().replace(/\s/g, "").toLowerCase(), e = $("[data-filter-item]"); if ("" != a) { e.addClass("hidden"); var t = $('[data-filter-item][data-filter-name*="' + a.toLowerCase() + '"]'); console.log("searchVal", a, e, t), 0 != t.length ? ($("#myAssetNoRecodes4").hide(), $(".my-navigation").show(), $('[data-filter-item][data-filter-name*="' + a.toLowerCase() + '"]').removeClass("hidden")) : (console.log("no data found"), $(".my-navigation").hide(), $("#myAssetNoRecodes4").show()) } else e.removeClass("hidden"), $(".my-navigation").show() })), $("[data-search]").on("search", (function () { $("[data-search]").val(""), $("[data-search]").trigger("keyup") })) } function stausKycBubbol() { " Not Started  Not Started " == $("#stausKyc .kyc22detext").text() ? $(".statusBubbol").show() : $(".statusBubbol").hide() } WallerRewards(MyRewards), stausKycBubbol();