var MarketsFee = [], SwapFee = []; function ApplySearchWithNoRecord() { $("table tfoot").hide(), $(".market-search").each((function () { var e = $(this).attr("data-tab"); $(this).on("keyup", (function () { var a = $(this).val().replace(/\s/g, "").toLowerCase(), t = "#" + e + " tr", i = $("#" + e), s = $(t).filter((function () { return $(this).text().toLowerCase().indexOf(a) > -1 })); s.length > 0 ? ($(i).nextAll("tfoot").hide(), $(".my-navigation").show()) : ($(i).nextAll("tfoot").show(), $(".my-navigation").hide()), $(t).hide(), s.show() })), $(".market-search").on("search", (function () { $(".market-search").val(""), $(".market-search").trigger("keyup") })) })) } function buildMarketsFee(e) { console.log("buildMarketsFee", e), e.length <= 0 || (e.forEach((function (e) { MarketsFee.push({ coin: e.Token.Code, fullName: e.Token.FullName, network: e.SupportedNetwork.Name, MinWithdrawal: e.MinWithdrawal, MaxWithdraw: e.MaxWithdrawal, DepositFee: e.DepositFee, PrevaillingGasFees: e.WithdrawalFee, Deposit: e.IsDepositAllowed, Withdraw: e.IsWithdrawalAllowed }) })), feeChangeDepoWithdraw()) } function feeChangeDepoWithdraw() { var e = ""; MarketsFee.length <= 0 || MarketsFee.forEach((function (a) { console.log("f", a); var t = a.Deposit ? "Enabaled" : "Disable", i = a.Withdraw ? "Enabaled" : "Disable"; e += "<tr>", e += '<td><div class="coin-name-css46 "><span><img src="../images/coin/coin/' + a.coin + '.png"></span> <span>' + a.coin + " </span></div></td>", e += "<td>" + a.fullName + "</td>", e += '<td><div class="dflex22">  <span>' + a.network + " </span></div> </td>", e += '<td><div class="dflex22">  <span>' + a.MinWithdrawal + '</span> <span><img src="../images/coin/coin/' + a.coin + '.png" width="16"></span> <small> ' + a.coin + "</small></div> </td>", e += '<td><div class="dflex22"> <span>' + a.MaxWithdraw + ' </span>  <span><img src="../images/coin/coin/' + a.coin + '.png" width="16"></span> <small>' + a.coin + " </small> </div> </td>", e += "<td>" + a.DepositFee + "</td>", e += '<td><div class="dflex22"> <span>' + a.PrevaillingGasFees + ' </span> <span><img src="../images/coin/coin/' + a.coin + '.png" width="16"></span> <small>' + a.coin + " </small></div> </td>", e += "<td>" + t + "</td>", e += "<td>" + i + "</td>", e += "</tr>", $("#depoWithdrawfee-tbody").html(e), $("#depoWithdrawfee").simplePagination({ items_per_page: 10 }), ApplySearchWithNoRecord() })) } function buildSwapFee(e) { console.log("buildSwapFee", e), e.length <= 0 || (e.forEach((function (e, a) { SwapFee.push({ MarketBase: e.BaseToken.Code, MarketQuote: e.QuoteToken.Code, MinOrderSize: e.MinOrderSizeValueUSD, MakerFees1: e.MarketProfile[0]._BaseTokenMakerFee.FeeNonCommunity, TakerFees1: e.MarketProfile[0]._BaseTokenTakerFee.FeeNonCommunity, MakerFees: e.MarketProfile[0]._BaseTokenMakerFee.FeeNonCommunity, TakerFees: e.MarketProfile[0]._BaseTokenTakerFee.FeeNonCommunity, Cashback: e.MarketType, Status: e.IsTradingAllowed }) })), SwapFees()) } function SwapFees() { var e = ""; SwapFee.length <= 0 || SwapFee.forEach((function (a) { var t = a.Status ? "Active" : "Disabled"; e += '<tr class=" text-center">', e += '<td><div class="coin-name-css46 "><span class="coin-zindex"><img src="../images/coin/coin/' + a.MarketBase + '.png"></span> <span class="paircoin-img"><img src="../images/coin/coin/' + a.MarketQuote + '.png"> </span> <span>' + a.MarketBase + "/" + a.MarketQuote + "</span></div></td>", e += '<td><div class="dflex22">  <span>' + a.MinOrderSize + ' </span> <span><img src="../images/coin/coin/' + a.MarketBase + '.png" width="16"></span> <small> ' + a.MarketBase + "</small></div> </td>", e += "<td>" + 100 * a.MakerFees1 + "% </td>", e += "<td>" + 100 * a.TakerFees1 + "%  </td>", e += "<td>" + 100 * a.MakerFees + "%  </td>", e += "<td>" + 100 * a.TakerFees + "%  </td>", "StableStable" == a.MarketType ? e += "<td> " + 0 * a.TakerFees * 100 + "% </td>" : e += "<td> " + 5 * a.TakerFees * 100 + "% </td>", e += "<td>" + t + "</td>", e += "</tr>", $("#tradingFees-tbody").html(e), $("#feesdivcs34").simplePagination({ items_per_page: 10 }), ApplySearchWithNoRecord() })) } $((function () { $.get(window.location.origin + "/Market/GetMarketsFee?abb=" + _selCountry, (e => { var a = JSON.parse(e); console.log("SwapData", a), buildSwapFee(a) })) })), $((function () { $.get(window.location.origin + "/token/NetworkFees", (e => { var a = JSON.parse(e); console.log("MarketsFee", a), buildMarketsFee(a) })) })), ApplySearchWithNoRecord(), $('#myTab a[data-bs-toggle="tab"]').on("show.bs.tab", (function (e) { let a = $(e.target).data("target"); $(a).addClass("active show").siblings(".tab-pane.active").removeClass("active show") })), console.log(" >>  ", MarketsFee), console.log(" >>  ", SwapFee);