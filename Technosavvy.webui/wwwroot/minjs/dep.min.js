Loadmeta(); var tkList = [], cuList = []; function Loadmeta() { $.get(window.location.origin + "/deposit/depositmeta", (function (e) { let t = JSON.parse(e); console.log(t), tkList = t.TokenList, cuList = t.CurrencyList })) } function AssetSelected() { for (var e = $("#selectedCoin").val(), t = "", o = 0; o < tkList.length; o++)if (tkList[o].TokenId == e && tkList[o].SupportedCoin.length > 0) for (var l = tkList[o].SupportedCoin, s = 0; s < l.length; s++) { var n = l[s].RelatedNetwork; t += '<option data-img-src="/images/coin/' + n.NativeCurrencyCode.toUpperCase() + '.png" value="' + n.SupportedNetworkId + '">' + n.Name + "</option>" } if (t.length > 0) { $("#dNetwork").empty(), $("#dNetwork").removeClass("d-none"); '<div class="form-select3"><select id = "selectedNetwork" name = "selectedNetwork" onchange="NetworkSelected()"></select></div>', $("#dNetwork").append('<label for="exampleInputSpend" class="lable-name22">Network</label > <div class="form-select3"><select id = "selectedNetwork" name = "selectedNetwork" onchange="NetworkSelected()"></select></div>'), $("#selectedNetwork").append("<option>", t), $("#selectedNetwork").addClass("my-select"), $("#selectedNetwork").chosen({ width: "100%" }) } else $("#dNetwork").empty(), $("#dNetwork").addClass("d-none") } function NetworkSelected() { var e = $("#selectedNetwork").val(); $.get(window.location.origin + "/deposit/GetMyNetWallet?networkid=" + e, (e => ProcessAndDisplayNetWallet(e))) } var isNetWalDisplay = !1, checkCount = 0; function CheckAfter() { console.log("CheckAfter called.." + checkCount.toString()); var e = $("#selectedNetwork").val(); $.get(window.location.origin + "/deposit/GetMyNetWallet?networkid=" + e, (e => ProcessAndDisplayNetWallet(e))), !isNetWalDisplay && checkCount < 5 ? (checkCount++, setTimeout(CheckAfter, 3e3), console.log("CheckAfter Set again..")) : ($("#showLoading").addClass("d-none"), isNetWalDisplay ? console.log("Address Received..") : console.log("Address Not Received but Auth Check Stopped after 15 seconds..")) } function GenerateNetWallet() { var e = $("#selectedNetwork").val(); $("#showLoading").removeClass("d-none"), $.get(window.location.origin + "/deposit/GenerateMyNetWallet?networkid=" + e, (e => RepeatCheck(e))) } function RepeatCheck(e) { "true" == e && (checkCount = 0, isNetWalDisplay = !1, setTimeout(CheckAfter, 3e3), console.log("First Check set for 3 sec")) } function ProcessAndDisplayNetWallet(e) { if (null == e || 0 == e || "false" == e) { $("#dWallet").removeClass("d-none"); var t = '<a href="javascript:void(0)" onClick="GenerateNetWallet()" id="generateWallet" class="css55-enable-btn">Click to Generate Wallet</a>'; $("#btnDeposit").removeClass("d-none"), $("#btnDeposit").addClass("d-none"), $("#dWalletTxt").addClass("d-none"), $("#qrholder").empty(), $("#qrholder").append(t) } else { let l = JSON.parse(e); console.log(l); t = "<span>QR Image here</span>"; isNetWalDisplay = !0, $("#dWallet").removeClass("d-none"), $("#dWalletTxt").removeClass("d-none"), $("#btnDeposit").removeClass("d-none"), $("#nWallet").val(l.Address), $("#qrholder").empty(), $("#qrholder").append(t); var o = l.Address; new QRCode(document.getElementById("qrholder"), { text: o, width: 200, height: 200 }) } } function balCheck() { }